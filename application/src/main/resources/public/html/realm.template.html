<div class="pb-3 pt-3">
  <div class="row">
    <div class="col col-md-6 p-3">
      <h6><a ui-sref="realm.templates({realmId:templatemodel.realm})">Templates
          &raquo;</a></h6>
    </div>
    <div class="col col-md-6 text-right">
      <button class="btn btn-success" type="button" ng-click="previewTemplate()">Preview</button>
      <button class="btn btn-primary" type="button" ng-click="saveTemplate()">Save</button>
      <button class="btn btn-info" type="button" ng-click="exportTemplate()">Export</button>
      <button class="btn btn-danger" type="button" ng-click="deleteTemplate()">Delete</button>
    </div>
  </div>
  <div class="row mb-3">
    <div class="col-xs-1 p-2">
      <svg class="icon icon-xl icon-primary left" aria-hidden="true">
        <use xlink:href="./italia/svg/sprite.svg#it-key"></use>
      </svg>
    </div>
    <div class="col">
      <h3>{{templatemodelname}}</h3>
      <p class="text-monospace">
        <span class="small text-monospace bg-light pl-1 pr-1">{{templatemodel.id}}</span>
        <button class="btn btn-xs btn-link p-0 pb-1" ng-click="copyText(templatemodel.id)">
          <svg class="icon icon-xs icon-primary">
            <use xlink:href="./italia/svg/sprite.svg#it-copy"></use>
          </svg>
        </button>
      </p>
    </div>
  </div>
</div>


<p>{{templatemodeldescription}}</p>


<div class="accordion" id="template">
  <fieldset ng-repeat="item in contentMap">
    <legend>{{item.key}}</legend>
    <div class="mb-5 row">


      <div class="form-group col">
        <div ui-ace="aceOption" ng-model="item.value"></div>
      </div>

      <div class="col-md-6 border">
        <figure class="highlight mb-0">
          <div ng-bind-html="item.value"></div>
        </figure>
      </div>
    </div>
  </fieldset>

</div>

<div class="modal popconfirm-modal" tabindex="-1" role="dialog" id="deleteConfirm">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <p>Are you sure you want to delete?</p>
        <p class="text-danger">ATTENTION: This operation cannot be undone!</p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-danger btn-sm" ng-click="doDelete()" type="button">Delete</button>
        <button class="btn btn-outline-secondary btn-sm" type="button" data-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade bs-modal-xl" tabindex="-1" role="dialog" id="templatePreview">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h3 class="modal-title">Preview</h3>
      </div>
      <div class="modal-body" onclick="event.preventDefault(); return;">
        <div ng-bind-html="templatePreview"></div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline-secondary btn-sm" type="button" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<!--
  SPID Login fragment
  There exists an official reference implementation for the SPID login button at the following source
  [1] https://github.com/italia/spid-sp-access-button
-->

<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head th:fragment="header">
</head>

<body>
<div th:fragment="login">
   <p th:if="${authority.getDescription(#locale.language) != null}" th:text="${authority.getDescription(#locale.language)}"></p>
   <div>
      <button class="btn btn-icon text-left pl-3 btn-login login-spid button-spid"
              aria-haspopup="true" aria-expanded="false"
              th:attr="onclick=|expandDropdown('${authority.getProvider()}')|"
              th:classAppend="${authority.cssClass}">
         <span class="btn-login-icon">
            <img th:src="@{/spid/img/spid-ico-circle-bb.svg}" onerror="this.onerror=null;" alt="" />
         </span>
         <span class="btn-login-text">Entra con SPID</span>
      </button>
      <div class="spid-dropdown-region">
         <div th:id="'spid-dropdown-'+${authority.getProvider()}"
              class="spid-idp-button spid-idp-button-tip">
            <ul class="spid-idp-button-menu" aria-labelledby="spid-idp">
               <li th:each="idp: ${authority.getIdpButtons()}"
                   th:data-idp="${idp.getEntityLabel()}">
                  <a th:href="${idp.getLoginUrl()}">
                     <span class="spid-sr-only" th:text="${idp.getEntityName()}"></span>
                     <img th:src="${idp.getIconUrl()}" th:alt="${idp.getEntityName()}">
                  </a>
               </li>
               <li><a class="p-2" href="https://www.spid.gov.it">Maggiori informazioni</a></li>
               <li><a class="p-2" href="https://www.spid.gov.it/richiedi-spid">Non hai SPID?</a></li>
               <li><a class="p-2" href="https://www.spid.gov.it/serve-aiuto">Serve aiuto?</a></li>
            </ul>
         </div>
      </div>
   </div>
   <script type="text/javascript" th:src="@{/spid/js/spid-button.js}"></script>
</div>
</body>

</html>